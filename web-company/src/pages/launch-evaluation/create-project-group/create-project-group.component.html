<div class="l-container">
  <div class="row top">
    <div class="col col-auto color9">
      <span class="circle co">√️</span>配置组织架构
    </div>
    <div class="col"><span class="line"></span></div>
    <div class="col col-auto color9" [class.blues]='step === 0'>
      <span class="circle lb" *ngIf="step === 0">2</span>
      <span class="circle co" *ngIf="step === 1">√</span>产品选择(测评师)
    </div>
    <div class="col"><span class="no-line" [class.line]="step === 1"></span></div>
    <div class="col col-auto color9" [class.blues] = 'step === 1' >
      <span class="circle co2 " [class.lb]='step === 1'>3</span>配置项目组
    </div>
    <div class="col"><span class="no-line"></span></div>
    <div class="col col-auto color9" >
      <span class="circle co2">4</span>导入成员
    </div>
    <div class="col"><span class="no-line"></span></div>
    <div class="col col-auto color9" >
      <span class="circle co2">5</span>提交支付
    </div>
  </div>
  <div *ngIf="step === 0">
    <div class="row chose">
      <div class="col col-auto ch"> 产品选择</div>
      <div class="col">
        <div class="row bot">
          <div class="col col-auto tit" [class.ys]='label === i' *ngFor='let p of pub; let i = index'
               (click)="selectLabel(i)">{{p.title}}
          </div>
        </div>
        <div class="row t1" *ngIf="label !== 2">
          <div class="col">项目名称</div>
          <div class="col">量表组合</div>
          <div class="col">咨询级别</div>
          <div class="col">受众人群</div>
          <div class="col col-auto m-c">版权费</div>
          <div class="col col-auto m-c">信息服务费</div>
          <div class="col col-auto m-c">操作</div>
        </div>
        <div class="row t1" *ngIf="label === 2">
          <div class="col">量表名称</div>
          <div class="col">受众人群</div>
          <div class="col col-auto m-c">版权费</div>
          <div class="col col-auto m-c">信息服务费</div>
          <div class="col col-auto m-c">操作</div>
        </div>
        <div *ngIf="label === 0">
          <div class="row item" [class.p-l]="i % 2 === 0" *ngFor="let item of brandData; let i = index;">
            <div class="col name">
              <mat-checkbox [checked]="item?.select" (change)="select($event, item)"></mat-checkbox>
              <span>{{item?.name}}</span>
            </div>
            <div class="col">
              <span *ngFor="let name of item?.assessments_list; let i = index;">
                {{name?.name}}
                <span *ngIf="i + 1 !== item?.assessments_list?.length">、</span>
              </span>
            </div>
            <div class="col">
              <span *ngFor="let a of appraisers; let i = index;">
                <span *ngIf="a?.id > item?.lowest_appraiser_title">{{a?.title}}
                  <span *ngIf="i + 1 < appraisers?.length">/</span>
                </span>
              </span>
            </div>
            <div class="col">{{item?.audiences}}</div>
            <div class="col col-auto m-c centers"><span class="red">{{item?.copyright_fee}}</span>元</div>
            <div class="col col-auto m-c"><span class="red">{{item?.price}}</span>元</div>
            <div class="col col-auto m-c">
              <button mat-button>查看详情</button>
            </div>
          </div>
        </div>
        <div *ngIf="label === 1">
          <div class="row item" [class.p-l]="i % 2 === 0" *ngFor="let item of sceneData; let i = index;">
            <div class="col name">
              <mat-checkbox [checked]="item?.select" (change)="select($event, item)"></mat-checkbox>
              <span>{{item?.name}}</span>
            </div>
            <div class="col">
              <span *ngFor="let name of item?.assessments_list; let i = index;">
                {{name?.name}}
                <span *ngIf="i + 1 !== item?.assessments_list?.length">、</span>
              </span>
            </div>
            <div class="col">
              <span *ngFor="let a of appraisers; let i = index;">
                <span *ngIf="a?.id > item?.lowest_appraiser_title">{{a?.title}}
                  <span *ngIf="i + 1 < appraisers?.length">/</span>
                </span>
              </span>
            </div>
            <div class="col">{{item?.audiences}}</div>
            <div class="col col-auto m-c centers"><span class="red">{{item?.copyright_fee}}</span>元</div>
            <div class="col col-auto m-c"><span class="red">{{item?.price}}</span>元</div>
            <div class="col col-auto m-c">
              <button mat-button>查看详情</button>
            </div>
          </div>
        </div>
        <div *ngIf="label === 2">
          <div class="row item" [class.p-l]="i % 2 === 0" *ngFor="let item of assessments; let i = index;">
            <div class="col name">
              <mat-checkbox [checked]="item?.select" (change)="select($event, item)"></mat-checkbox>
              <span>{{item?.name}}</span>
            </div>
            <div class="col">{{item?.audiences}}</div>
            <div class="col col-auto m-c centers"><span class="red">{{item?.copyright_fee}}</span>元</div>
            <div class="col col-auto m-c"><span class="red">{{item?.price}}</span>元</div>
            <div class="col col-auto m-c">
              <button mat-button>查看详情</button>
            </div>
          </div>
        </div>
        <div *ngIf="label === 3">
          <div class="row item" [class.p-l]="i % 2 === 0" *ngFor="let item of historyData; let i = index;">
            <div class="col name">
              <mat-checkbox [checked]="item?.select" (change)="select($event, item)"></mat-checkbox>
              <span>{{item?.name}}</span>
            </div>
            <div class="col">
              <span *ngFor="let name of item?.assessments_list; let i = index;">
                {{name?.name}}
                <span *ngIf="i + 1 !== item?.assessments_list?.length">、</span>
              </span>
            </div>
            <div class="col">
              <span *ngFor="let a of appraisers; let i = index;">
                <span *ngIf="a?.id > item?.lowest_appraiser_title">{{a?.title}}
                  <span *ngIf="i + 1 < appraisers?.length">/</span>
                </span>
              </span>
            </div>
            <div class="col">{{item?.audiences}}</div>
            <div class="col col-auto m-c centers"><span class="red">{{item?.copyright_fee}}</span>元</div>
            <div class="col col-auto m-c"><span class="red">{{item?.price}}</span>元</div>
            <div class="col col-auto m-c">
              <button mat-button>查看详情</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row chose">
      <div class="col col-auto ch">测评师选择</div>
      <div class="col">
        <div class="tips">为了提高测评效率，请选择测评师给您详细评测</div>
        <div class="row t1">
          <div class="col">测评等级</div>
          <div class="col">专业测评范围</div>
          <div class="col">简介</div>
          <div class="col">测评年限</div>
        </div>
        <div class="row item" [class.p-l]="i % 2 === 0" *ngFor="let item of appraisers; let i = index;">
          <div class="col name cc">
            <!--<input type="checkbox" [checked]="item?.checked" (change)="checkAppraiser($event, item)">-->
            <mat-checkbox  [checked]="item?.checked" [disabled]="true"
                          (change)="checkAppraiser($event, item)"></mat-checkbox>
            <span>{{item?.title}}</span>
          </div>
          <div class="col">企业中高级管理人员、团队匹配分析</div>
          <div class="col">{{item?.description}}</div>
          <div class="col">8年以上</div>
        </div>
      </div>
    </div>
    <div class="row chose">
      <div class="col col-auto ch">结果反馈形式</div>
      <div class="col">
        <div class="row">
          <div class="col col-auto check" *ngFor="let r of reports">
            <!--<input type="checkbox" [checked]="r?.select || selectAppraiser" [disabled]="r.disable" (change)="selectReport($event, r)">-->
            <mat-checkbox [checked]="r?.select || selectAppraiser" [disabled]="r.disable"
                          (change)="selectReport($event, r)"></mat-checkbox>
            <span>{{r?.name}}</span>
          </div>
          <div class="col tips">基础数据为必选项目，企业可选择结果反馈形式给测试人员购买相应的结果报告。</div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="step === 1">
    <div class="chose info">
      <div class="row">
        <div class="col col-auto ch ">项目组名称</div>
        <div class="col col-auto p-n w251">
          <input type="text" [(ngModel)]="product.name">
        </div>
        <div class="hz">8到30个字符。</div>
      </div>
      <div class="row">
        <div class="col col-auto ch ">开始时间</div>
        <div class="col col-auto w251">
          <!--<input class="in" type="text" [(ngModel)]="product.start_time">-->
          <mat-form-field floatLabel="never" class="col col-auto">
            <input matInput placeholder="开始日期" disabled [(ngModel)]="startFormatDate">
            <input matInput [matDatepicker]="picker1" placeholder="截止日期" disabled style="display: none"
                   [(ngModel)]="product.start_time">
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1 disabled="false" (closed)="closeDate(0)"></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="hz">项目开始测试时间</div>
      </div>
      <div class="row">
        <div class="col col-auto ch ">结束时间</div>
        <div class="col col-auto w251">
          <mat-form-field floatLabel="never" class="col col-auto">
            <input matInput placeholder="截止日期" disabled [(ngModel)]="endFormatDate">
            <input matInput [matDatepicker]="picker2" placeholder="截止日期" disabled style="display: none"
                   [(ngModel)]="product.end_time">
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2 disabled="false" (closed)="closeDate(1)"></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="hz">项目结束时间</div>
      </div>
      <div class="row">
        <div class="col col-auto ch ">描述</div>
        <textarea class="col col-auto" cols="30" rows="3" [(ngModel)]="product.products_describe"></textarea>
        <div class="hz">对于该项目的基本描述</div>
      </div>
    </div>

    <div class="chose info" hidden>
      <div class="row">
        <div class="col col-auto ch">授权查看</div>
        <div class="col col-auto">
          <div class="row">
            <div class="col col-auto check">
              <mat-checkbox>上级查看（标签）</mat-checkbox>
              <mat-checkbox>上级查看（组织架构）</mat-checkbox>
            </div>
            <div class="col tips">配置相应的授权范围可授权给用户查看测评报告。</div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col col-auto ch"></div>
        <div class="col col-auto ">
          <div class="row">
            <div class="col col-auto container left-container">

              <div *ngFor="let l of [1, 1, 1, 1]">
                <div class="label">标签名</div>
                <button mat-button class="name" *ngFor="let n of [1, 1, 1, 1]">王先生</button>
              </div>
            </div>
            <div class="col col-auto img-c">
              <img src="">
            </div>
            <div class="col col-auto container right-container">

            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

</div>

<div class="im row">
  <div class="col fd">配置费用：<span class="fon">{{amount}}</span> <span>元</span></div>
  <div class="col col-auto">
    <button mat-button *ngIf="step === 0" (click)="nextStep()">下一步：配置项目组</button>
    <button mat-button class="btn" *ngIf="step === 1" (click)="upStep()">上一步：配置项目组</button>
    <button mat-button *ngIf="step === 1" (click)="confirmCreate()">下一步：导入成员</button>
  </div>

</div>
